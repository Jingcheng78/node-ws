<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­¦æ±‰ç†å·¥å¤§å­¦åœŸå»ºå­¦é™¢ - NASç§æœ‰äº‘ç®—åŠ›å¹³å°ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        /* --- æ ¸å¿ƒå˜é‡é…ç½® (æ”¯æŒä¸€é”®æ¢è‚¤) --- */
        :root {
            --bg-color: #1e1e1e;
            --sidebar-bg: #141414;
            --card-bg: #252526;
            --text-color: #ccccc7;
            --accent-color: #007acc;
            --border-color: #3e3e42;
            --log-bg: #101010;
            --log-text: #00ff00;
            --header-height: 50px;
        }

        /* ç™½åº•é»‘å­—æ¨¡å¼ */
        [data-theme="light"] {
            --bg-color: #f3f3f3;
            --sidebar-bg: #e8e8e8;
            --card-bg: #ffffff;
            --text-color: #333333;
            --accent-color: #005fb8;
            --border-color: #d4d4d4;
            --log-bg: #ffffff;
            --log-text: #333333;
        }

        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg-color); color: var(--text-color); display: flex; height: 100vh; overflow: hidden; }

        /* å·¦ä¾§å¯¼èˆªæ  */
        .sidebar { width: 250px; background: var(--sidebar-bg); border-right: 1px solid var(--border-color); display: flex; flex-direction: column; padding: 10px; }
        .app-title { font-weight: bold; padding: 15px 10px; border-bottom: 1px solid var(--border-color); margin-bottom: 10px; font-size: 14px; }
        .nav-item { padding: 12px; margin-bottom: 5px; cursor: pointer; border-radius: 5px; display: flex; align-items: center; gap: 10px; transition: 0.2s; color: #888; }
        .nav-item:hover { background: var(--card-bg); color: var(--text-color); }
        .nav-item.active { background: var(--accent-color); color: white; font-weight: bold; }
        
        .server-status { margin-top: auto; padding: 15px; background: var(--card-bg); border-radius: 8px; font-size: 12px; border: 1px solid var(--border-color); }
        .status-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .bar-bg { height: 4px; background: #444; border-radius: 2px; overflow: hidden; }
        .bar-fill { height: 100%; background: #4caf50; width: 0%; transition: width 1s; }

        /* ä¸»å†…å®¹åŒº */
        .main { flex: 1; display: flex; flex-direction: column; }
        .header { height: var(--header-height); border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; background: var(--card-bg); }
        .breadcrumb { font-size: 14px; font-weight: 500; }
        .controls button { padding: 5px 10px; cursor: pointer; background: transparent; border: 1px solid var(--border-color); color: var(--text-color); border-radius: 4px; }

        /* å†…å®¹è§†å›¾å®¹å™¨ */
        .content-view { flex: 1; padding: 20px; overflow-y: auto; display: none; }
        .content-view.active { display: block; }

        /* --- æ—¥å¿—è§†å›¾æ ·å¼ (Terminal Style) --- */
        .terminal-window { background: var(--log-bg); border: 1px solid var(--border-color); border-radius: 6px; padding: 15px; font-family: 'Consolas', monospace; height: 90%; overflow-y: auto; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .log-line { margin-bottom: 4px; font-size: 13px; color: var(--log-text); border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 2px; }
        .log-time { color: #888; margin-right: 10px; }
        .log-tag { display: inline-block; padding: 0 4px; border-radius: 2px; font-size: 11px; margin-right: 8px; font-weight: bold; min-width: 50px; text-align: center; }
        
        /* æ—¥å¿—é¢œè‰²æ ‡ç­¾ */
        .tag-info { background: #007acc; color: white; }
        .tag-warn { background: #d68a00; color: white; }
        .tag-err { background: #d32f2f; color: white; }
        .tag-sec { background: #28a745; color: white; } /* å®‰å…¨å®¡è®¡ */

        /* --- èŠå¤©è§†å›¾æ ·å¼ --- */
        .chat-box { max-width: 800px; margin: 0 auto; display: flex; flex-direction: column; gap: 20px; }
        .msg { padding: 15px; border-radius: 8px; line-height: 1.6; }
        .msg-ai { background: var(--card-bg); border: 1px solid var(--border-color); }
        .msg-user { background: var(--accent-color); color: white; align-self: flex-end; max-width: 80%; }
        .think-block { background: rgba(0,0,0,0.1); padding: 10px; border-left: 3px solid #888; margin-bottom: 10px; font-size: 13px; font-style: italic; color: var(--text-color); opacity: 0.8; }
        
    </style>
</head>
<body>

<div class="sidebar">
    <div class="app-title">ğŸ¢ åœŸå»ºå­¦é™¢ AI ç®—åŠ›ä¸­å¿ƒ v2.1</div>
    
    <div class="nav-item active" onclick="switchTab('logs', this)">
        ğŸ“Š ç³»ç»Ÿè¿è¡Œæ—¥å¿— (Admin)
    </div>
    <div class="nav-item" onclick="switchTab('chat', this)">
        ğŸ’¬ ç§‘ç ”å¯¹è¯ (Client)
    </div>
    
    <div class="server-status">
        <div style="margin-bottom:10px; font-weight:bold; color:#4caf50;">â— ç³»ç»Ÿè¿è¡Œæ­£å¸¸</div>
        <div class="status-row"><span>GPU (RTX4090)</span><span>82%</span></div>
        <div class="bar-bg"><div class="bar-fill" style="width: 82%"></div></div>
        <div class="status-row" style="margin-top:8px"><span>VRAM</span><span>21GB/24GB</span></div>
        <div class="bar-bg"><div class="bar-fill" style="width: 88%"></div></div>
        <div class="status-row" style="margin-top:8px"><span>CPU Load</span><span>45%</span></div>
        <div class="bar-bg"><div class="bar-fill" style="width: 45%"></div></div>
    </div>
</div>

<div class="main">
    <div class="header">
        <div class="breadcrumb" id="pageTitle">ç³»ç»Ÿç›‘æ§ / è¿è¡Œæ—¥å¿—</div>
        <div class="controls">
            <button onclick="toggleTheme()">ğŸŒ— åˆ‡æ¢é»‘/ç™½æ¨¡å¼</button>
            <button style="background:#d32f2f; border:none; color:white; margin-left:10px;">ğŸ”´ æ¶‰å¯†ç¯å¢ƒ:å·²ç‰©ç†éš”ç¦»</button>
        </div>
    </div>

    <div id="logs" class="content-view active">
        <div class="terminal-window" id="logContainer">
            </div>
        <div style="margin-top:10px; font-size:12px; color:#888;">
            *æ—¥å¿—å®¡è®¡è¯´æ˜ï¼šç³»ç»Ÿå·²å¼€å¯â€œçº¢ç¯åè®®(Traffic Light Protocol)â€ï¼Œæ‰€æœ‰æ¶‰åŠçº¢åŒºæ•°æ®çš„æ“ä½œå‡è¢«å¼ºåˆ¶æœ¬åœ°åŒ–å­˜å‚¨ã€‚
        </div>
    </div>

    <div id="chat" class="content-view">
        <div class="chat-box">
            <div class="msg msg-user">
                æˆ‘æœ‰ä¸€ç»„æœªå‘è¡¨çš„æ°´å‚æ»¤æ± åå†²æ´—å®éªŒæ•°æ®ï¼ˆCSVæ ¼å¼ï¼‰ï¼Œè¯·å¸®æˆ‘å†™ä¸€ä¸ªPythonè„šæœ¬ï¼Œåˆ†æåå†²æ´—å¼ºåº¦ä¸æµ‘æµŠåº¦å»é™¤ç‡ä¹‹é—´çš„éçº¿æ€§å…³ç³»ï¼Œå¹¶ç»˜åˆ¶çƒ­åŠ›å›¾ã€‚æ³¨æ„ä¸è¦å°†æ•°æ®ä¸Šä¼ åˆ°å…¬ç½‘ã€‚
            </div>

            <div class="msg msg-ai">
                <div class="think-block">
                    <b>DeepSeek-R1 æ€è€ƒè¿‡ç¨‹ï¼š</b><br>
                    1. è¯†åˆ«æ„å›¾ï¼šç”¨æˆ·éœ€è¦æ•°æ®åˆ†æä»£ç ï¼ˆPython/Pandas/Seabornï¼‰ã€‚<br>
                    2. å®‰å…¨æ£€æµ‹ï¼šæ£€æµ‹åˆ°å…³é”®è¯â€œæœªå‘è¡¨â€ã€â€œå®éªŒæ•°æ®â€ã€‚<br>
                    3. çŸ¥è¯†åº“åŒ¹é…ï¼šè°ƒç”¨æœ¬åœ°æŒ‚è½½çš„ã€Šç»™æ’æ°´å®éªŒè®¾è®¡è§„èŒƒã€‹çŸ¥è¯†åº“ã€‚<br>
                    4. å†³ç­–ï¼šè§¦å‘â€œçº¢åŒºæ•°æ®â€ä¿æŠ¤ç­–ç•¥ï¼Œä»£ç å°†åœ¨æœ¬åœ°æ‰§è¡Œï¼Œä»…è¿”å›è„šæœ¬å†…å®¹ã€‚
                </div>
                <b>[ç³»ç»Ÿå®‰å…¨æç¤º]ï¼š</b> å·²ç¡®è®¤ä¸ºçº¢åŒºæ•°æ®è¯·æ±‚ï¼Œå·²åˆ‡æ–­å¤–ç½‘è¿æ¥ã€‚ä»¥ä¸‹ä»£ç ä»…åœ¨ NAS æœ¬åœ°å®¹å™¨ä¸­è¿è¡Œã€‚<br><br>
                æ‚¨å¯ä»¥ç›´æ¥åœ¨æœ¬åœ° Jupyter ç¯å¢ƒä¸­ä½¿ç”¨ä»¥ä¸‹è„šæœ¬ï¼š
                <pre style="background:rgba(0,0,0,0.2); padding:10px; border-radius:4px; overflow-x:auto;">
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# 1. è¯»å–æœ¬åœ°çº¢åŒºæ•°æ® (NASæŒ‚è½½è·¯å¾„)
df = pd.read_csv('/mnt/nas_data/private/experiment_2025_filter.csv')

# 2. éçº¿æ€§æ‹Ÿåˆåˆ†æ
# ... (ä»£ç çœç•¥) ...

# 3. ç»˜åˆ¶çƒ­åŠ›å›¾
plt.figure(figsize=(10, 8))
sns.heatmap(df.corr(), annot=True, cmap='coolwarm')
plt.title('Backwash Intensity vs Turbidity Removal')
plt.show()
                </pre>
            </div>
        </div>
    </div>
</div>

<script>
    // æ¨¡æ‹ŸçœŸå®çš„æ—¥å¿—æ•°æ® (æ ¹æ®æ‚¨çš„ä¸­æœŸæŠ¥å‘Šæ—¶é—´çº¿å®šåˆ¶)
    // [cite: 17] é¡¹ç›®å¼€å§‹ -> [cite: 104] è®¾å¤‡é‡‡è´­ -> [cite: 378] çº¢ç»¿ç¯æœºåˆ¶ -> [cite: 480] ä¸­æœŸæ£€æŸ¥
    const logData = [
        { time: "2024-09-10 09:00:01", tag: "INFO", cls: "tag-info", text: "ç³»ç»Ÿåˆå§‹åŒ–: NASæœåŠ¡å™¨ (Ubuntu 22.04) å¯åŠ¨æˆåŠŸ." },
        { time: "2024-09-10 09:05:22", tag: "INFO", cls: "tag-info", text: "Dockerå®¹å™¨å¯åŠ¨: Ollama-Backend, WebUI-Frontend." },
        { time: "2024-10-08 14:30:15", tag: "INFO", cls: "tag-info", text: "æ¨¡å‹åŠ è½½: DeepSeek-R1-Distill (32B) æ¨¡å‹æ ¡éªŒé€šè¿‡ï¼ŒåŠ è½½è‡³æ˜¾å­˜." },
        { time: "2024-11-20 10:11:05", tag: "AUDIT", cls: "tag-sec", text: "ç”¨æˆ·ç™»å½•: Liu_XY (Student) [IP: 192.168.50.12]." },
        { time: "2024-11-20 10:12:33", tag: "RAG", cls: "tag-info", text: "çŸ¥è¯†åº“æ£€ç´¢: å‘½ä¸­æ–‡çŒ®ã€Šæ™ºæ…§æ°´åŠ¡ç³»ç»Ÿç†è®ºä¸å®è·µã€‹ç›¸å…³æ®µè½." },
        { time: "2025-01-15 16:45:11", tag: "WARN", cls: "tag-warn", text: "æ•æ„Ÿæ“ä½œæ‹¦æˆª: æ£€æµ‹åˆ°'çº¢åŒºæ•°æ®'ä¸Šä¼ è¯·æ±‚." },
        { time: "2025-01-15 16:45:12", tag: "SECURE", cls: "tag-sec", text: "æ•°æ®æµé‡å®šå‘: å¼ºåˆ¶å†™å…¥æœ¬åœ°åŠ å¯†å· /mnt/private/ï¼Œå·²é˜»æ­¢äº‘ç«¯åŒæ­¥." },
        { time: "2025-03-22 09:30:00", tag: "AUDIT", cls: "tag-info", text: "å¯¼å¸ˆå®¡è®¡: Zhang_XL æŸ¥çœ‹äº†æœ€è¿‘çš„ AI ä½¿ç”¨åˆè§„è®°å½•." },
        { time: "2025-06-18 11:20:55", tag: "INFO", cls: "tag-info", text: "èµ„æºå‘Šè­¦: GPU æ¸©åº¦è¾¾åˆ° 78Â°Cï¼Œå¯åŠ¨é£æ‰‡å…¨é€Ÿæ¨¡å¼." },
        { time: "2025-12-20 08:55:10", tag: "SYS", cls: "tag-info", text: "æ—¥å¿—å½’æ¡£: è‡ªåŠ¨å¯¼å‡º'é¡¹ç›®ä¸­æœŸæ£€æŸ¥'è¿è¡ŒæŠ¥å‘Š." },
        { time: "2026-02-25 14:10:05", tag: "RUN", cls: "tag-info", text: "å®æ—¶ç›‘æ§: å½“å‰å¹¶å‘ä¼šè¯æ•° 3ï¼ŒæœåŠ¡çŠ¶æ€æ­£å¸¸..." }
    ];

    // æ¸²æŸ“æ—¥å¿—
    const logContainer = document.getElementById('logContainer');
    logData.forEach(item => {
        const div = document.createElement('div');
        div.className = 'log-line';
        div.innerHTML = `<span class="log-time">[${item.time}]</span><span class="log-tag ${item.cls}">${item.tag}</span>${item.text}`;
        logContainer.appendChild(div);
    });

    // åˆ‡æ¢æ ‡ç­¾é¡µ
    function switchTab(tabId, btn) {
        // éšè—æ‰€æœ‰è§†å›¾
        document.querySelectorAll('.content-view').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        
        // æ˜¾ç¤ºå½“å‰è§†å›¾
        document.getElementById(tabId).classList.add('active');
        btn.classList.add('active');

        // æ›´æ–°æ ‡é¢˜
        const titles = { 'logs': 'ç³»ç»Ÿç›‘æ§ / è¿è¡Œæ—¥å¿—', 'chat': 'ç§‘ç ”åŠ©æ‰‹ / å¯¹è¯ç•Œé¢' };
        document.getElementById('pageTitle').innerText = titles[tabId];
    }

    // åˆ‡æ¢ä¸»é¢˜
    function toggleTheme() {
        const body = document.body;
        if (body.hasAttribute('data-theme')) {
            body.removeAttribute('data-theme');
        } else {
            body.setAttribute('data-theme', 'light');
        }
    }
</script>

</body>
</html>

